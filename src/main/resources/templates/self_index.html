<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title id="self_title"></title>
    <link href="../../layui/css/layui.css" rel="stylesheet" media="all">
    <link rel="shortcut icon" href="../../mianshi/icon.png"/>
</head>
<body class="layui-bg-gray">
<ul class="layui-nav" lay-filter="">
    <li class="layui-nav-item"><img src="../../mianshi/icon.png"/></li>
    <li class="layui-nav-item"><a href="">仿牛客网</a></li>
    <li class="layui-nav-item"><a href="/bs/index">首页</a></li>
    <li class="layui-nav-item layui-this"><a href="">题库</a>
        <dl class="layui-nav-child">
            <dd><a href="">公司真题</a></dd>
            <dd><a href="/bs/index/title/s_title">专项练习</a></dd>
            <dd><a href="">在线编程</a></dd>
            <dd><a href="/bs/index/mock_exam">模拟笔试</a></dd>

            <dd><a href="/bs/index/uni">考研真题</a></dd>
<dd><a href="/bs/index/topics">精华广场</a></dd>
            <dd><a href="/bs/index/square_title">试题广场</a></dd>
        </dl>
    </li>

    <li class="layui-nav-item">
        <a href="javascript:;">学习</a>
        <dl class="layui-nav-child"> <!-- 二级菜单 -->

            <dd><a href="/bs/index/study/blog">专栏-文章</a></dd>
<dd><a href="/bs/index/project_action">项目实战</a></dd><dd><a href="/bs/index/library">图书馆</a></dd>
            <dd><a href="/bs/index/technology">技术栈</a></dd>
        </dl>
    </li>
    <li class="layui-nav-item"><a href="/bs/index/post">求职</a></li>
    <li class="layui-nav-item"><a href="">讨论区</a>
        <dl class="layui-nav-child"> <!-- 二级菜单 -->
            <dd><a href="/bs/index/talk">讨论区</a></dd>
            <dd><a href="/bs/index/circle">圈子</a></dd>
        </dl>
    </li>
    <li class="layui-nav-item"><a href="">发现</a>
        <dl class="layui-nav-child"> <!-- 二级菜单 -->

            <dd><a href="/bs/index/find/coin_ware">牛币兑换中心</a></dd>
        </dl>
    </li>
    <li style="position: absolute; left:63%" class="layui-nav-item"><input type="text" class="layui-input-inline"/>
        <button class="layui-btn layui-btn-xs layui-btn-radius layui-btn-warm">搜索</button>
    </li>
    <li style="position: absolute; left: 79%" class="layui-nav-item">
        <i style="color: #f7f7f7" class="layui-icon layui-icon-cellphone-fine">APP</i>
    </li>
    <li style="position: absolute; left: 83%" class="layui-nav-item" id="user_info">
    </li>

</ul>

<div style="margin-top: 20px; margin-left: 150px; background: #ffffff; width: 75%">
    <blockquote style="background: #ffffff;height: 70px" class="layui-elem-quote">
        <div class="margin-left: 20px;" id="imgAndName"></div>
    </blockquote>
</div>
<div style="margin-top: 14px; margin-left: 150px" class="layui-row">
    <div style="text-align: center;" class="layui-col-md2">
        <div style="width: 100%; height: 40px; background: #ffffff;">
            <a href="/bs/index/study/self_blog"><i style="position: relative; top: 20%" class="layui-icon layui-icon-edit">我的博客</i></a>
        </div>

        <div style="margin-top: 10px; width: 100%; height: 40px; background: #ffffff;">
              <a id="resume" data-method="offset" data-type="auto">
                <i style="position: relative; top: 20%; color: #009f95" class="layui-icon layui-icon-template">我的简历</i>
              </a>
        </div>

            <!--<div style="margin-top: 10px;background: #ffffff">
               <ul>
                    <li>
                        <i class="layui-icon layui-icon-release" style="color:#1E9FFF"></i>
                        <span>我的简历</span>
                    </li>
                </ul>
            </div> -->
    </div>

    <div style="margin-left:10px; background: #ffffff;" class="layui-col-md8">
        <div style="margin-left: 20px; margin-top: 15px">
            <strong style="font-size: 20px;">基本信息</strong>
            <button style="margin-left: 72%; width: 100px" type="button"  class="layui-btn" onclick="showEdit();">编辑</button>
        </div>
        <hr style="color: grey; width: 93%;margin-left: 20px;">

        <div id="ul_list_info">
            <ul>
                <li style="margin-left: 100px; margin-top: 40px">
                    <span>我的昵称</span>
                    <span style="color: #1E9FFF; margin-left: 50px" id="user_name"></span>
                </li>

                <li style="margin-left: 100px; margin-top: 40px" id="user_sex">
                     <span>我的性别</span>
                </li>

                <li style="margin-left: 100px; margin-top: 40px">
                       <span>我的手机</span>
                      <span style="color: #1E9FFF; margin-left: 50px" id="user_tel"></span>
                 </li>

                 <li style="margin-left: 100px; margin-top: 40px">
                     <span>我的邮箱</span>
                     <span style="color: #1E9FFF; margin-left: 50px" id="user_email"></span>
                 </li>

                 <li style="margin-left: 100px; margin-top: 40px">
                     <span>加入时间</span>
                      <span style="color: #1E9FFF; margin-left: 50px" id="user_create_data"></span>
                 </li>

                   <li style="margin-left: 100px; margin-top: 40px; margin-bottom: 100px">
                        <span>我的简介</span>
                        <span style="color: #1E9FFF; margin-left: 50px" id="user_detail"></span>
                   </li>
            </ul>
        </div>

        <form class="layui-form" action="" lay-filter="example" id="edit_form" style="display: none">
                      <div class="layui-form-item" style="margin-left: 100px; margin-top: 40px; width: 60%">
                        <label class="layui-form-label">我的昵称</label>
                        <div class="layui-input-block">
                          <input type="text" name="username" lay-verify="title" autocomplete="off" value="请输入昵称" class="layui-input">
                        </div>
                      </div>

                      <div class="layui-form-item" style="width: 60%; margin-left: 100px; margin-top: 40px">
                          <label class="layui-form-label">我的性别</label>
                          <div class="layui-input-block">
                            <input type="radio" name="sex" value="1" title="男" checked="">
                            <input type="radio" name="sex" value="0" title="女">
                          </div>
                        </div>

                      <div class="layui-form-item" style="width: 60%; margin-left: 100px; margin-top: 40px">
                          <label class="layui-form-label">我的手机</label>
                          <div class="layui-input-block">
                            <input type="text" name="usertel" lay-verify="title" autocomplete="off" placeholder="请输入手机号" class="layui-input">
                          </div>
                        </div>

                    <div class="layui-form-item" style="width: 60%; margin-left: 100px; margin-top: 40px">
                          <label class="layui-form-label">我的邮箱</label>
                          <div class="layui-input-block">
                            <input type="text" name="useremail" lay-verify="title" autocomplete="off" placeholder="请输入邮箱地址" class="layui-input">
                          </div>
                        </div>

                      <div class="layui-form-item layui-form-text" style="width: 60%; margin-left: 100px; margin-top: 40px">
                        <label class="layui-form-label">我的简介</label>
                        <div class="layui-input-block">
                          <textarea placeholder="请输入内容" class="layui-textarea" name="desc"></textarea>
                        </div>
                      </div>

                      <div class="layui-form-item" style="width: 60%; margin-left: 100px; margin-top: 40px">
                        <div class="layui-input-block">
                          <button type="button" class="layui-btn layui-btn-normal" id="LAY-component-form-getval">确定</button>                        </div>
                      </div>
                    </form>
    </div>

</div>

<script type="text/javascript" src="../../mianshi/jquery.min.js"></script>
<script type="text/javascript" src="../../mianshi/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../../layui/layui.js"></script>
<script type="text/javascript" src="../../layui/layui.all.js"></script>
<script type="text/javascript" src="../../mianshi/js/common.js"></script>
<script type="text/javascript" src="../../mianshi/js/user/common_user.js"></script>
<script type="text/javascript" src="../../mianshi/js/user/user_index.js"></script>
<script>
layui.use(['form', 'layedit', 'laydate'], function(){
  var form = layui.form
  ,layer = layui.layer
  ,layedit = layui.layedit
  ,laydate = layui.laydate;

  //表单取值
  layui.$('#LAY-component-form-getval').on('click', function(){
    var data = form.val('example');

    var user = new Object();
    $.ajaxSettings.async = false;
    $.getJSON('/user/api/user_id', function(e){
          alert(123);
          user.userId = e;
     });
    user.userName = data.username;
    if (data.sex == '1') {
        user.userSex = true;
    } else {
        user.userSex = false;
    }
    user.userTel = data.usertel;
    user.userEmal = data.useremail;
    user.userDetail = data.desc;

    var e = JSON.stringify(user);

    var url = '/user/api/user';
    $.ajax({
        url : url,
        type : "put",
        datatype : "json",
        data : {"user" : e},
        success : function(data) {
            alert(data);
             window.location.reload();
        }
    });
  });
});
</script>

<script>
layui.use('layer', function(){ //独立版的layer无需执行这一句
  var $ = layui.jquery, layer = layui.layer; //独立版的layer无需执行这一句

  //触发事件
  var active = {
    setTop: function(){
      var that = this;
    }
    ,offset: function(othis){
      var type = othis.data('type')
      ,text = othis.text();

      layer.open({
        type: 1
        ,offset: type
        ,id: 'layerDemo'+type
        ,title: '简历信息'
        ,area: ['700px', '600px']
        ,content: '<div class="layui-row" style = "margin-top: 20px; margin-left: 50px; width: 600px; height: 500px">' +
         '<form class="layui-form" action="">\n'+
                   '  <div class="layui-form-item layui-col-md6">\n'+
                   '    <label class="layui-form-label">姓名</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <input type="text" name="name" required  lay-verify="required" autocomplete="off" class="layui-input">\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '  <div class="layui-form-item layui-col-md6">\n'+
                   '    <label class="layui-form-label">年龄</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <input type="text" name="age" required lay-verify="required" autocomplete="off" class="layui-input">\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '  <div class="layui-form-item layui-form-text">\n'+
                   '    <label class="layui-form-label">自我描述</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <textarea name="selfDesc" placeholder="请输入内容" class="layui-textarea"></textarea>\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '  <div class="layui-form-item layui-col-md6 ">\n'+
                   '    <label class="layui-form-label">学历</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <select name="edu" lay-verify="required">\n'+
                   '        <option value=""></option>\n'+
                   '        <option value="高中">高中</option>\n'+
                   '        <option value="专科">专科</option>\n'+
                   '        <option value="本科">本科</option>\n'+
                   '        <option value="硕士">硕士</option>\n'+
                   '        <option value="博士">博士</option>\n'+
                   '      </select>\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '  <div class="layui-form-item">\n'+
                   '    <label class="layui-form-label">单选框</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <input type="radio" name="sex" value="男" title="男" checked >\n'+
                   '      <input type="radio" name="sex" value="女" title="女">\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '  <div class="layui-form-item layui-col-md6">\n'+
                   '    <label class="layui-form-label">联系方式</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <input type="text" name="tel" required lay-verify="required" autocomplete="off" class="layui-input">\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '  <div class="layui-form-item layui-col-md6">\n'+
                   '    <label class="layui-form-label">邮箱</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <input type="text" name="email" required lay-verify="required" autocomplete="off" class="layui-input">\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '  <div class="layui-form-item layui-col-md6">\n'+
                   '    <label class="layui-form-label">毕业院校</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <input type="text" name="school" required lay-verify="required" autocomplete="off" class="layui-input">\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '  <div class="layui-form-item">\n'+
                   '    <label class="layui-form-label">技能</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <input type="checkbox" name="skill" title="MySQL">\n'+
                   '      <input type="checkbox" name="skill" title="JAVA" checked>\n'+
                   '      <input type="checkbox" name="skill" title="C++">\n'+
                   '      <input type="checkbox" name="skill" title="GO">\n'+
                   '      <input type="checkbox" name="skill" title="C#">\n'+
                   '      <input type="checkbox" name="skill" title="PHP">\n'+
                   '      <input type="checkbox" name="skill" title="服务器">\n'+
                   '      <input type="checkbox" name="skill" title="大数据">\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '  <div class="layui-form-item layui-col-md6">\n'+
                   '    <label class="layui-form-label">项目名称</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <input type="text" name="productName" required lay-verify="required" autocomplete="off" class="layui-input">\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '  <div class="layui-form-item layui-col-md6">\n'+
                   '    <label class="layui-form-label">项目职位</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <input type="text" name="productType" required lay-verify="required" autocomplete="off" class="layui-input">\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '  <div class="layui-form-item layui-col-md6">\n'+
                   '    <label class="layui-form-label">项目时间</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <input type="text" name="productDate" required lay-verify="required" autocomplete="off" class="layui-input">\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '  <div class="layui-form-item layui-form-text">\n'+
                   '    <label class="layui-form-label">项目描述</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <textarea name="productExpirence" placeholder="请输入内容" class="layui-textarea"></textarea>\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                    '  <div class="layui-form-item layui-col-md6">\n'+
                    '    <label class="layui-form-label">公司名称</label>\n'+
                    '    <div class="layui-input-block">\n'+
                    '      <input type="text" name="workName" required lay-verify="required" autocomplete="off" class="layui-input">\n'+
                    '    </div>\n'+
                    '  </div>\n'+
                    '  <div class="layui-form-item layui-col-md6">\n'+
                    '    <label class="layui-form-label">在职岗位</label>\n'+
                    '    <div class="layui-input-block">\n'+
                    '      <input type="text" name="workType" required lay-verify="required" autocomplete="off" class="layui-input">\n'+
                    '    </div>\n'+
                    '  </div>\n'+
                    '  <div class="layui-form-item layui-col-md6">\n'+
                    '    <label class="layui-form-label">在职时间</label>\n'+
                    '    <div class="layui-input-block">\n'+
                    '      <input type="text" name="workDate" required lay-verify="required" autocomplete="off" class="layui-input">\n'+
                    '    </div>\n'+
                    '  </div>\n'+

                   '  <div class="layui-form-item layui-form-text">\n'+
                   '    <label class="layui-form-label">工作描述</label>\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <textarea name="workExpirence" placeholder="请输入内容" class="layui-textarea"></textarea>\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '  <div class="layui-form-item">\n'+
                   '    <div class="layui-input-block">\n'+
                   '      <button class="layui-btn" lay-submit lay-filter="formDemo">生成简历</button>\n'+
                   '      <button type="reset" class="layui-btn layui-btn-primary">页面修复</button>\n'+
                   '    </div>\n'+
                   '  </div>\n'+
                   '</form>\n'+
                   '</div>\n'
        ,btn: '关闭全部'
        ,btnAlign: 'c' //按钮居中
        ,shade: 0 //不显示遮罩
        ,yes: function(){
          layer.closeAll();
        }
      });
    }
  };

  $('#resume').on('click', function(){
    var othis = $(this), method = othis.data('method');
    active[method] ? active[method].call(this, othis) : '';
  });

   // 提交简历
   layui.use('form', function(){
     var form = layui.form;

     //监听提交
     form.on('submit(formDemo)', function(data){
       var url = '/work/api/resume';
       var s = JSON.stringify(data.field);
        $.ajax({
                        type: "POST",
                        url: url,
                        dataType: "json",
                        data : {"resume" : s},
                        success : function (data) {
                            layer.msg(data.code + ":" + data.msg);
                        }
               });
       return false;
     });
   });
});
</script>

</body>
</html>